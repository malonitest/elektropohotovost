---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Hero from "../../components/Hero.astro";
import TLDR from "../../components/TLDR.astro";
import Services from "../../components/Services.astro";
import FAQ from "../../components/FAQ.astro";
import CTA from "../../components/CTA.astro";

import { phone, siteName, serviceHours } from "../../data/site";
import { absoluteUrl } from "../../lib/urls";
import {
	buildBreadcrumbList,
	buildFaqPage,
	buildLocalBusiness,
	buildService
} from "../../lib/jsonld";

const placeName = "Praha";
const urlPath = "/elektro-pohotovost-praha/";
const canonical = absoluteUrl(urlPath);

const title = `Elektro pohotovost ${placeName} – elektrikář nonstop 24/7 | ${siteName}`;
const description =
	"Havarijní elektrikář 24/7 v Praze: výpadek elektřiny, shozený jistič, zkrat, rozvaděč. Dojezd obvykle 30–90 min dle dopravy. Volejte ihned.";

const telHref = `tel:${String(phone || "").replace(/\s+/g, "")}`;

const tldr =
	"Elektro pohotovost Praha: havarijní výjezdy k poruchám elektroinstalace pro byty, domy i firmy. Postupujeme bezpečně a s jasnou domluvou. Nonstop 24/7.";

const copy = {
	description:
		"Pomáháme při náhlých poruchách elektroinstalace v Praze – výpadek elektřiny, shozený jistič, zkrat v okruhu, přehřívající zásuvky a závady rozvaděče. Nejprve zajistíme bezpečný stav (odpojení problémového okruhu), provedeme diagnostiku a navrhneme nejrychlejší bezpečné řešení. Pokud je potřeba další materiál nebo delší práce, domluvíme provizorní zajištění a další krok.",
	localContext:
		"V Praze se často potkáváme s poruchami v bytových domech i kancelářích. Důležité je rychle rozlišit, zda jde o závadu na konkrétním okruhu, na spotřebiči, nebo ve společném rozvaděči. Postupujeme systematicky a bez zbytečných slibů.",
	typicalInterventions: [
		"výpadek elektřiny (část bytu / celý byt)",
		"opakovaně padající jistič nebo chránič",
		"zkrat v zásuvkovém nebo světelném okruhu",
		"jiskření, zápach z elektro, horká zásuvka",
		"porucha rozvaděče (bytový / domovní)",
		"nefunkční světla / okruhy"
	],
	whyUs: [
		"nonstop dostupnost 24/7",
		"důraz na bezpečnost a jasnou domluvu",
		"odborná diagnostika na místě",
		"cenový rozsah vždy dopředu po telefonu",
		"doklad o provedení práce"
	]
};

const faq = [
	{
		question: "Jak rychle můžete přijet v Praze?",
		answer:
			"V Praze se dojezd odvíjí od dopravy a vytížení. V praxi to často vychází přibližně 30–90 minut. Pro aktuální odhad je nejlepší zavolat."
	},
	{
		question: "Co mám udělat hned, když cítím zápach nebo vidím jiskření?",
		answer:
			"Pokud je to bezpečné, vypněte jistič příslušného okruhu (nebo hlavní jistič), nepoužívejte postiženou zásuvku a zavolejte. V případě viditelného kouře nebo požáru volejte 150/112."
	},
	{
		question: "Řešíte i shozený proudový chránič?",
		answer:
			"Ano. Na místě ověříme, zda jde o závadu v okruhu, na spotřebiči, nebo o problém s chráničem/jističem. Postup je vždy s důrazem na bezpečné obnovení provozu."
	},
	{
		question: "Kolik stojí výjezd a oprava v Praze?",
		answer:
			"Cenu vždy upřesníme po telefonu podle situace a času. Orientačně: výjezd + diagnostika 1400–2900 Kč, práce 700–1300 Kč/h, drobný materiál dle potřeby."
	}
];

const breadcrumbs = [
	{ name: "Domů", url: "/" },
	{ name: `Elektro pohotovost ${placeName}`, url: urlPath }
];

const breadcrumbItems = breadcrumbs.map((b) => ({ ...b, url: new URL(b.url, canonical).toString() }));

const business = buildLocalBusiness(canonical, placeName) as Record<string, unknown>;
if (typeof business["@type"] === "string") business["@type"] = [business["@type"], "Electrician"];

const service = {
	...buildService(canonical, placeName),
	keywords: [
		"elektro pohotovost",
		"havarijní elektrikář",
		"elektrikář nonstop",
		"24/7",
		placeName
	]
};

const jsonLdGraph = [
	business,
	service,
	buildBreadcrumbList(canonical, breadcrumbItems),
	buildFaqPage(canonical, faq)
];
---

<BaseLayout title={title} description={description} canonical={canonical} breadcrumbs={breadcrumbs} jsonLdGraph={jsonLdGraph}>
	<Hero
		h1={`Elektro pohotovost ${placeName} – elektrikář nonstop 24/7`}
		kicker="Havarijní výjezdy k poruchám elektroinstalace"
		badges={["Nonstop 24/7", "Výpadek proudu", "Zkrat", "Rozvaděč"]}
		cta={{ href: telHref, text: `Volejte ihned: ${phone}` }}
		ctaNote={`Dostupnost ${serviceHours}. Dojezd obvykle 30–90 min dle dopravy.`}
	/>

	<TLDR text={tldr} />

	<Services
		description={copy.description}
		localContext={copy.localContext}
		typicalInterventions={copy.typicalInterventions}
		whyUs={copy.whyUs}
	/>

	<section class="section grid grid-2" aria-label="Dostupnost a ceny">
		<div class="card card-pad">
			<div class="h2">Dostupnost a dojezd</div>
			<p style="margin:0">
				Přijímáme havarijní výjezdy {serviceHours}. V Praze se dojezd typicky pohybuje kolem 30–90 minut
				podle dopravy a vytížení.
			</p>
			<p class="hint" style="margin:10px 0 0">
				Pokud je cítit zápach z elektro nebo je zásuvka horká, doporučujeme vypnout jistič daného okruhu a zavolat.
			</p>
		</div>
		<div class="card card-pad">
			<div class="h2">Orientační ceny (rozsah)</div>
			<ul class="list" style="margin-top:0">
				<li>Výjezd + diagnostika: 1400–2900 Kč</li>
				<li>Práce elektrikáře: 700–1300 Kč / hod</li>
				<li>Materiál: dle potřeby (vždy po odsouhlasení)</li>
			</ul>
			<p class="hint" style="margin:0">
				Konečná cena závisí na závadě, přístupu a času. Předem řekneme odhad a domluvíme postup.
			</p>
		</div>
	</section>

	<section class="section card card-pad" aria-label="Prolinkování">
		<div class="h2">Kde ještě vyjíždíme</div>
		<p class="hint" style="margin-top:0">
			Pokud nejste přímo v Praze, mrkněte i na okolní oblasti:
		</p>
		<div class="ctaRow">
			<a class="btn btnSecondary" href="/elektro-pohotovost-praha-zapad/">Praha-západ</a>
			<a class="btn btnSecondary" href="/elektro-pohotovost-stredocesky-kraj-zapad/">Středočeský kraj (západ)</a>
			<a class="btn btnSecondary" href="/porucha/">Typické poruchy</a>
		</div>
	</section>

	<FAQ items={faq} />
	<CTA placeName={placeName} />
</BaseLayout>
